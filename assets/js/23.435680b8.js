(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{504:function(s,t,a){"use strict";a.r(t);var e=a(4),r=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"redisæŒä¹…åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redisæŒä¹…åŒ–"}},[s._v("#")]),s._v(" RedisæŒä¹…åŒ–")]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("ğŸ˜ŸğŸ˜ŸğŸ˜Ÿ")]),s._v(" "),a("p",[s._v("Redisæ”¯æŒä¸¤ç§æŒä¹…åŒ–æ¨¡å¼å¿«ç…§å’ŒAOF")])]),s._v(" "),a("h2",{attrs:{id:"å›é¡¾"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å›é¡¾"}},[s._v("#")]),s._v(" å›é¡¾")]),s._v(" "),a("ul",[a("li",[s._v("å¿«ç…§ï¼šå…¨é‡å¤‡ä»½ï¼Œä»¥å†…å­˜æ•°æ®çš„äºŒè¿›åˆ¶åºåˆ—åŒ–å½¢å¼ï¼Œåœ¨å‚¨å­˜ä¸Šéå¸¸ç´§å‡‘")]),s._v(" "),a("li",[s._v("AOFï¼šå¢é‡å¤‡ä»½ï¼Œä»¥å†…å­˜æ•°æ®çš„æŒ‡ä»¤è®°å½•æ–‡æœ¬å½¢å¼ã€‚é•¿æœŸè¿è¡ŒAOFæ—¥å¿—ä¼šå˜å¾—åºå¤§ï¼Œè‹¥æ•°æ®åº“é‡å¯éœ€è¦åŠ è½½AOFæ—¥å¿—è¿›è¡Œé‡æ”¾æ—¶ï¼Œä¼šèŠ±è´¹éå¸¸é•¿çš„æ—¶é—´ï¼Œå› æ­¤éœ€è¦å®šæœŸå¯¹AOFè¿›è¡Œç˜¦èº«")])]),s._v(" "),a("h2",{attrs:{id:"å¿«ç…§"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¿«ç…§"}},[s._v("#")]),s._v(" å¿«ç…§")]),s._v(" "),a("p",[s._v("Redisä½¿ç”¨çš„æ˜¯å¤šè¿›ç¨‹ä¸Copy on Writeæœºåˆ¶å®ç°å¿«ç…§æŒä¹…åŒ–")]),s._v(" "),a("h3",{attrs:{id:"fork"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fork"}},[s._v("#")]),s._v(" fork")]),s._v(" "),a("blockquote",[a("p",[s._v("Nginxå’ŒNodejsä¹Ÿæ˜¯ä½¿ç”¨forkè¿›è¡Œå¤šè¿›ç¨‹å¤„ç†")])]),s._v(" "),a("p",[s._v("Rediså°†æ•°æ®åˆ†ä¸º4KBå¤§å°çš„é¡µï¼Œå½“çˆ¶è¿›ç¨‹éœ€è¦å†™æ—¶ï¼Œä¼šå¯¹å¤åˆ¶é¡µè¿›è¡Œä¿®æ”¹ï¼Œå­è¿›ç¨‹ä¼šå°†é‚£ä¸€ç¬é—´çš„é¡µå†™å…¥ç£ç›˜ä¸­")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("See More")]),s._v(" "),a("p",[s._v("å­è¿›ç¨‹åˆšåˆšåˆ›å»ºæ—¶ï¼Œå®ƒä¸çˆ¶è¿›ç¨‹å…±äº«å†…å­˜é‡Œé¢çš„ä»£ç æ®µå’Œæ•°æ®æ®µã€‚åœ¨è¿›ç¨‹åˆ†ç¦»çš„ä¸€ç¬é—´ï¼Œå†…å­˜çš„å¢é•¿å‡ ä¹æ²¡æœ‰ã€‚")])]),s._v(" "),a("h2",{attrs:{id:"aof"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aof"}},[s._v("#")]),s._v(" AOF")]),s._v(" "),a("p",[s._v("AOFæ—¥å¿—å‚¨å­˜Redisæ‰§è¡Œå¯¹å†…å­˜ä¿®æ”¹çš„æŒ‡ä»¤ï¼Œé€šè¿‡é‡æ”¾æ¢å¤æ•°æ®ã€‚")]),s._v(" "),a("details",{staticClass:"custom-block details"},[a("summary",[s._v("See More")]),s._v(" "),a("p",[s._v("Redisæ—¶å…ˆæ‰§è¡ŒæŒ‡ä»¤å†å°†æŒ‡ä»¤å­˜å…¥ç£ç›˜")])]),s._v(" "),a("h3",{attrs:{id:"aofç˜¦èº«"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#aofç˜¦èº«"}},[s._v("#")]),s._v(" AOFç˜¦èº«")]),s._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[s._v("Redisæä¾›`bgrewriteaof`æŒ‡ä»¤è¿›è¡Œç˜¦èº«ï¼Œå…¶åŸç†æ˜¯åˆ›å»ºä¸€ä¸ªå­è¿›ç¨‹å¯¹å†…å­˜è¿›è¡Œéå†ï¼Œè½¬æ¢æˆä¸€ç³»åˆ—Reisçš„æ“ä½œæŒ‡ä»¤ï¼Œ\nåºåˆ—åŒ–åˆ°ä¸€ä¸ªæ–°çš„AOFæ—¥å¿—æ–‡ä»¶ã€‚åºåˆ—åŒ–å®Œæ¯•åå†å°†æ“ä½œæœŸé—´å‘ç”Ÿçš„å¢é‡AOFæ—¥å¿—è¿½åŠ åˆ°è¿™ä¸ªæ–°çš„AOFæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œ\nè¿½åŠ å®Œæ¯•åå°±ç«‹å³ä»£æ›¿æ—§çš„AOFæ—¥å¿—æ–‡ä»¶ï¼Œç˜¦èº«å®Œæ¯•\n")])])]),a("h3",{attrs:{id:"fsync"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#fsync"}},[s._v("#")]),s._v(" fsync")]),s._v(" "),a("div",{staticClass:"custom-block danger"},[a("p",[s._v("Elasticseachç±»æ¯”")])]),s._v(" "),a("ol",[a("li",[s._v("æ—¶é—´å†™çš„è¿‡ç¨‹ï¼šAOFæ—¥å¿—æ–‡ä»¶ -> å†…å­˜ç¼“å­˜ -> å¼‚æ­¥åˆ·å›ç£ç›˜")]),s._v(" "),a("li",[a("code",[s._v("fsync")]),s._v("å‡½æ•°ä¼šå®æ—¶å°†ç¼“å­˜åˆ·å›ç£ç›˜")]),s._v(" "),a("li",[s._v("Redisæ¯éš”1sæ‰§è¡Œä¸€æ¬¡"),a("code",[s._v("fsync")])]),s._v(" "),a("li",[s._v("Elasticsearchæ¯éš”5sæ‰§è¡Œä¸€æ¬¡"),a("code",[s._v("fsync")]),s._v("ï¼ˆtranslogï¼‰")])]),s._v(" "),a("div",{staticClass:"custom-block tip"},[a("p",[s._v("ä¸€èˆ¬ä»èŠ‚ç‚¹è¿›è¡ŒæŒä¹…åŒ–ï¼Œä¸»èŠ‚ç‚¹ä¸è¿›è¡ŒæŒä¹…åŒ–")])]),s._v(" "),a("h2",{attrs:{id:"redis4-0æ··åˆæŒä¹…åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#redis4-0æ··åˆæŒä¹…åŒ–"}},[s._v("#")]),s._v(" Redis4.0æ··åˆæŒä¹…åŒ–")]),s._v(" "),a("p",[s._v("å…ˆåŠ è½½rdbæ–‡ä»¶æ•°æ®ï¼Œå†é‡æ”¾å¢é‡AOFæ—¥å¿—ï¼Œä»è€Œä»£æ›¿AOFå…¨é‡æ–‡ä»¶é‡æ”¾")])])}),[],!1,null,null,null);t.default=r.exports}}]);